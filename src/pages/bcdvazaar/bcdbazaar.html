<!--
  Generated template for the Tab4Page page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-buttons left class="add-button">
      <button
        ion-button
        clear
        icon-only
        (click)="openCategory('', 'exit')"
        *ngIf="categorySelected"
      >
        <ion-icon name="list"></ion-icon>
      </button>
    </ion-buttons>

    <ion-title
      ><img
        src="assets/tab-icons/shop-title.svg"
        style="margin-right: 10px; margin-bottom: -3px; width: 19px;"
      />{{ Title | translate }}</ion-title
    >
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-row padding *ngIf="!categorySelected" class="transitionef">
    <ion-col
      col-3
      *ngFor="let p of cats"
      class="categoriesblock"
      (click)="openCategory(p.Id, p.Title)"
    >
      <div class="imgblock"><img [src]="p.Logo" /></div>
      <p>{{ p.Title | translate }}</p>
    </ion-col>
  </ion-row>
  <ng-container *ngIf="categorySelected">
    <ion-row>
      <ion-col col-12 class="searchbtn1">
        <ion-searchbar
          [(ngModel)]="filter"
          (ionInput)="applyFilter()"
          [showCancelButton]="false"
          placeholder="{{'Store' | translate }}"
          id="stay-cancel"
        >
        </ion-searchbar
      ></ion-col>
    </ion-row>

    <ion-list>
      <ng-container *ngFor="let p of items">
        <ion-item
          (click)="selectShop(p.url, p.logo)"
          class="market-link item item-block item-ios {{p.company}}"
          *ngIf="p.categoryId == catid"
        >
          <ion-thumbnail item-left><img [src]="p.logo"/></ion-thumbnail>
          <ion-row no-padding>
            <ion-col col-12>
              <p>{{ p.desc | translate }}</p>
            </ion-col>
          </ion-row>
        </ion-item>
      </ng-container>
    </ion-list>
  </ng-container>
</ion-content>
