<!--
  Generated template for the NewssearchPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar
    ><ion-input
      type="search"
      [(ngModel)]="searchQuery"
      (ionChange)="onSearch()"
      placeholder="Search"
    ></ion-input>
    <ion-buttons end>
      <button
        danger
        ion-button
        icon
        only
        (click)="clearSearch()"
        *ngIf="searchQuery.length > 0"
      >
        <ion-icon md="md-close" ios="md-close"></ion-icon>
      </button> </ion-buttons
  ></ion-navbar>
</ion-header>

<ion-content padding>
  <ion-card *ngFor="let item of items" (click)="openFullPost(item)">
    <!--
      <img
        src="{{
            item.better_featured_image.media_details.sizes.medium.source_url
          }}"
      />
    -->

    <ion-card-content> {{ item.title.rendered }}</ion-card-content>
    <ion-row>
      <ion-badge color="second">
        {{ api.getCatName(item.categories[0]) }}
      </ion-badge>
      <ion-badge color="second" *ngIf="api.getCatName(item.categories[1])">
        {{ api.getCatName(item.categories[1]) }}
      </ion-badge>
      <ion-badge color="second" *ngIf="api.getCatName(item.categories[2])">
        {{ api.getCatName(item.categories[2]) }}
      </ion-badge>

      <ion-badge color="light" right>
        <ion-icon name="time"></ion-icon>
        {{ item.date | date: 'dd.MM.yyyy / hh:mm' }}</ion-badge
      >
    </ion-row>
  </ion-card>
  <div *ngIf="isLoading" text-center padding><ion-spinner></ion-spinner></div>
  <button *ngIf="showLoadMore" ion-button full (click)="loadData()">
    Load more News
  </button>
</ion-content>
